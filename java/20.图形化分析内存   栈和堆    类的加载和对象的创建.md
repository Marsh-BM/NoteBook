20.图形化分析内存   _栈和堆_    类的加载和对象的创建



一，

较为复杂的模型：

![380CC27B955F70A7E7502A02588486FD](C:\Users\白木-泽\Documents\Tencent Files\2507714149\FileRecv\MobileFile\380CC27B955F70A7E7502A02588486FD.png)

简化后的模型

![43677980A14F13DC28C70AA6B70F1646](C:\Users\白木-泽\Desktop\43677980A14F13DC28C70AA6B70F1646.png)

//JVM：java virtual machine（java虚拟机），一种用于计算设备的规范，一个虚拟的计算机。因为这个，java才可以进行多平台运行。



方法区(静态区，也是一个堆)：用于放一些类的信息。

—特点

1.方法区是JAVA虚拟机规范，可以有不同的实现。

2.方法区实际也是堆，只是用于存储类，常量的相关信息。

3.用于存放程序中永远是不变或者唯一的内容。（如：类信息，静态变量，字符串常量等）

4.JVM只有**一个方法区**，被所有的线程共享。



堆：用于存放对象。

—特点

1.堆用于存储创建好的对象和数组。（数组也是对象）

2.堆是一个不连续的空间，分配灵活，查找慢。

3.JVM只有**一个堆**，被所有线程共享。





栈：方法的信息。

—特点：

1.栈描述的是方法执行的内存模型。每一个方法被调用都会创建一个栈帧。（存储局部变量，操作数，方法入口等。）

2.**栈的储存特性是“先进后出，后进先出”**

3.栈是由系统自动分配，速度快。栈是一个连续的内存空间。

4.**JVM为每一个线程都创造了一个栈，用于存放该线程执行方法的信息**。（实际参数，局部变量）

​		

5.栈属于线程私有，不能实现线程之间的共享。

